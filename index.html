<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="./144_ios@2x.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./144_aos@2x.png">
    <title>nate test</title>
</head>
<body>
    <div class="editor"></div>
    <div class="per">none</div>
    <script>
        navigator.clipboard.readText().then(clipText => document.querySelector(".editor").innerText += clipText);
        
        navigator.permissions.query({ name: 'clipboard-read' }).then((permission) => {
            // 권한을 허용했을 때는 'granted'
            // 권한을 거절했을 때는 'denied'
            // 권한을 요청 중일 때는 'prompt'
            document.querySelector(".editor").innerText = permission.state

            // 권한 상태가 변경 됬을 때마다 이벤트 발생
            permission.onchange = () => {
                document.querySelector(".editor").innerText = permission.state
            };
        });
    </script>
</body>
</html>
